!function(e){function t(t){for(var r,i,a=t[0],s=t[1],o=0,u=[];o<a.length;o++)i=a[o],n[i]&&u.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);u.length;)u.shift()()}var r={},n={0:0};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,i){r=n[e]=[t,i]});t.push(r[2]=a);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=function(e){return i.p+""+({}[e]||e)+".js"}(e),s=function(t){o.onerror=o.onload=null,clearTimeout(l);var r=n[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");s.type=i,s.request=a,r[1](s)}n[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:o})},12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var l=s;i(i.s=0)}([function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"shrekPool",function(){return o});var i=r(2),a=r.n(i);let s="left";const o=({cube:e})=>{const t=e.rotation.z;if("left"===s)return t<.01?void(e.rotation.z+=21e-5):void(s="right");t>-.01?e.rotation.z-=21e-5:s="left"};let l=null;const u=Object.values(n);r.e(1).then(r.bind(null,1)).then(e=>(a()(e),e)).then(e=>{const t=new e.Scene,r=new e.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.set(0,100,60),r.lookAt(0,70,0);const n=new e.WebGLRenderer({antialias:!0});n.setSize(window.innerWidth,window.innerHeight),n.setClearColor(16711422,1),document.body.appendChild(n.domElement);l={scene:t,camera:r,renderer:n,THREE:e},(()=>{const r=new e.BoxGeometry(3e3,150,1e3),n=(new e.TextureLoader).load("textures/mud.jpg");n.wrapS=e.RepeatWrapping,n.wrapT=e.RepeatWrapping,n.repeat.set(20,20),n.needsUpdate=!0;const i=new e.MeshBasicMaterial({map:n}),a=new e.Mesh(r,i);l.cube=a,t.add(a),(new e.OBJLoader).load("objs/shrek/Shrek.obj",function(e){console.log(e),t.add(e)},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})})(),(()=>{const r=new e.AmbientLight(8947848),n=new e.DirectionalLight(16777215);n.position.set(3,2,1),n.lookAt(0,0,0),t.add(n),t.add(r)})()}).then(()=>{const{renderer:e,camera:t,scene:r,cube:n}=l,i=()=>{requestAnimationFrame(i),u.forEach(e=>e(l)),e.render(r,t)};i()})},,function(e,t,r){"use strict";function n(e){throw new Error(e)}e.exports=function(e){e.OBJLoader=function(t){this.manager=void 0!==t?t:e.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},e.OBJLoader.prototype={constructor:e.OBJLoader,load:function(t,r,i,a){var s=this;this.onError=a||n;var o=new e.FileLoader(s.manager);o.setPath(this.path),o.load(t,function(e){r(s.parse(e))},i,a)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},r&&r.name&&"function"==typeof r.clone){var n=r.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseNormalIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseUVIndex:function(e,t){var r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},addVertex:function(e,t,r){var n=this.vertices,i=this.object.geometry.vertices;i.push(n[e+0]),i.push(n[e+1]),i.push(n[e+2]),i.push(n[t+0]),i.push(n[t+1]),i.push(n[t+2]),i.push(n[r+0]),i.push(n[r+1]),i.push(n[r+2])},addVertexLine:function(e){var t=this.vertices,r=this.object.geometry.vertices;r.push(t[e+0]),r.push(t[e+1]),r.push(t[e+2])},addNormal:function(e,t,r){var n=this.normals,i=this.object.geometry.normals;i.push(n[e+0]),i.push(n[e+1]),i.push(n[e+2]),i.push(n[t+0]),i.push(n[t+1]),i.push(n[t+2]),i.push(n[r+0]),i.push(n[r+1]),i.push(n[r+2])},addUV:function(e,t,r){var n=this.uvs,i=this.object.geometry.uvs;i.push(n[e+0]),i.push(n[e+1]),i.push(n[t+0]),i.push(n[t+1]),i.push(n[r+0]),i.push(n[r+1])},addUVLine:function(e){var t=this.uvs,r=this.object.geometry.uvs;r.push(t[e+0]),r.push(t[e+1])},addFace:function(e,t,r,n,i,a,s,o,l,u,h,d){var c,p=this.vertices.length,f=this.parseVertexIndex(e,p),m=this.parseVertexIndex(t,p),v=this.parseVertexIndex(r,p);if(void 0===n?this.addVertex(f,m,v):(c=this.parseVertexIndex(n,p),this.addVertex(f,m,c),this.addVertex(m,v,c)),void 0!==i){var g=this.uvs.length;f=this.parseUVIndex(i,g),m=this.parseUVIndex(a,g),v=this.parseUVIndex(s,g),void 0===n?this.addUV(f,m,v):(c=this.parseUVIndex(o,g),this.addUV(f,m,c),this.addUV(m,v,c))}if(void 0!==l){var b=this.normals.length;f=this.parseNormalIndex(l,b),m=l===u?f:this.parseNormalIndex(u,b),v=l===h?f:this.parseNormalIndex(h,b),void 0===n?this.addNormal(f,m,v):(c=this.parseNormalIndex(d,b),this.addNormal(f,m,c),this.addNormal(m,v,c))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var r=this.vertices.length,n=this.uvs.length,i=0,a=e.length;i<a;i++)this.addVertexLine(this.parseVertexIndex(e[i],r));var s=0;for(a=t.length;s<a;s++)this.addUVLine(this.parseUVIndex(t[s],n))}};return e.startObject("",!1),e},parse:function(t,r){void 0===r&&(r=!0),r&&console.time("OBJLoader");var n=this._createParserState();-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));for(var i=t.split("\n"),a="",s="",o="",l=[],u="function"==typeof"".trimLeft,h=0,d=i.length;h<d;h++)if(a=i[h],0!==(a=u?a.trimLeft():a.trim()).length&&"#"!==(s=a.charAt(0)))if("v"===s)" "===(o=a.charAt(1))&&null!==(l=this.regexp.vertex_pattern.exec(a))?n.vertices.push(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])):"n"===o&&null!==(l=this.regexp.normal_pattern.exec(a))?n.normals.push(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])):"t"===o&&null!==(l=this.regexp.uv_pattern.exec(a))?n.uvs.push(parseFloat(l[1]),parseFloat(l[2])):this.onError("Unexpected vertex/normal/uv line: '"+a+"'");else if("f"===s)null!==(l=this.regexp.face_vertex_uv_normal.exec(a))?n.addFace(l[1],l[4],l[7],l[10],l[2],l[5],l[8],l[11],l[3],l[6],l[9],l[12]):null!==(l=this.regexp.face_vertex_uv.exec(a))?n.addFace(l[1],l[3],l[5],l[7],l[2],l[4],l[6],l[8]):null!==(l=this.regexp.face_vertex_normal.exec(a))?n.addFace(l[1],l[3],l[5],l[7],void 0,void 0,void 0,void 0,l[2],l[4],l[6],l[8]):null!==(l=this.regexp.face_vertex.exec(a))?n.addFace(l[1],l[2],l[3],l[4]):this.onError("Unexpected face line: '"+a+"'");else if("l"===s){var c=a.substring(1).trim().split(" "),p=[],f=[];if(-1===a.indexOf("/"))p=c;else for(var m=0,v=c.length;m<v;m++){var g=c[m].split("/");""!==g[0]&&p.push(g[0]),""!==g[1]&&f.push(g[1])}n.addLineGeometry(p,f)}else if(null!==(l=this.regexp.object_pattern.exec(a))){var b=(" "+l[0].substr(1).trim()).substr(1);n.startObject(b)}else if(this.regexp.material_use_pattern.test(a))n.object.startMaterial(a.substring(7).trim(),n.materialLibraries);else if(this.regexp.material_library_pattern.test(a))n.materialLibraries.push(a.substring(7).trim());else if(null!==(l=this.regexp.smoothing_pattern.exec(a))){var x=l[1].trim().toLowerCase();n.object.smooth="1"===x||"on"===x,(A=n.object.currentMaterial())&&(A.smooth=n.object.smooth)}else{if("\0"===a)continue;this.onError("Unexpected line: '"+a+"'")}n.finalize();var w=new e.Group;w.materialLibraries=[].concat(n.materialLibraries);for(h=0,d=n.objects.length;h<d;h++){var j=n.objects[h],y=j.geometry,_=j.materials,L="Line"===y.type;if(0!==y.vertices.length){var E=new e.BufferGeometry;E.addAttribute("position",new e.BufferAttribute(new Float32Array(y.vertices),3)),y.normals.length>0?E.addAttribute("normal",new e.BufferAttribute(new Float32Array(y.normals),3)):E.computeVertexNormals(),y.uvs.length>0&&E.addAttribute("uv",new e.BufferAttribute(new Float32Array(y.uvs),2));for(var M,V=[],O=0,I=_.length;O<I;O++){var S=_[O],A=void 0;if(null!==this.materials&&(A=this.materials.create(S.name),L&&A&&!(A instanceof e.LineBasicMaterial))){var F=new e.LineBasicMaterial;F.copy(A),A=F}A||((A=L?new e.LineBasicMaterial:new e.MeshPhongMaterial).name=S.name),A.shading=S.smooth?e.SmoothShading:e.FlatShading,V.push(A)}if(V.length>1){for(O=0,I=_.length;O<I;O++){S=_[O];E.addGroup(S.groupStart,S.groupCount,O)}var U=new e.MultiMaterial(V);M=L?new e.LineSegments(E,U):new e.Mesh(E,U)}else M=L?new e.LineSegments(E,V[0]):new e.Mesh(E,V[0]);M.name=j.name,w.add(M)}}return r&&console.timeEnd("OBJLoader"),w}}}}]);